<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Structured geocoding — structured • photon</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Structured geocoding — structured"><meta name="description" content="Geocode a set of place information such as street, house number, or
post code. Structured geocoding is generally more accurate but requires
more information than unstructured geocoding. Note that
structured geocoding must be specifically enabled when building a Nominatim
database. It is generally not available on komoot's public API and on
pre-built search indices through download_searchindex."><meta property="og:description" content="Geocode a set of place information such as street, house number, or
post code. Structured geocoding is generally more accurate but requires
more information than unstructured geocoding. Note that
structured geocoding must be specifically enabled when building a Nominatim
database. It is generally not available on komoot's public API and on
pre-built search indices through download_searchindex."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">photon</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Overview</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/photon.html"><span class="fa fa-book"></span> Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-search"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Structured geocoding</h1>

      <div class="d-none name"><code>structured.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Geocode a set of place information such as street, house number, or
post code. Structured geocoding is generally more accurate but requires
more information than <a href="geocode.html">unstructured geocoding</a>. Note that
structured geocoding must be specifically enabled when building a Nominatim
database. It is generally not available on komoot's public API and on
pre-built search indices through <code><a href="download_searchindex.html">download_searchindex</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">structured</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  lang <span class="op">=</span> <span class="st">"en"</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  osm_tag <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locbias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locbias_scale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  zoom <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>Dataframe or list containing structured information on a place
to geocode. Can contain the columns <code>street</code>, <code>housenumber</code>,
<code>postcode</code>, <code>city</code>, <code>district</code>, <code>county</code>, <code>state</code>,
and <code>countrycode</code>. At least one of these columns must be present in the
dataframe.</p></dd>


<dt id="arg-limit">limit<a class="anchor" aria-label="anchor" href="#arg-limit"></a></dt>
<dd><p>Number of results to return. Defaults to 3.</p></dd>


<dt id="arg-lang">lang<a class="anchor" aria-label="anchor" href="#arg-lang"></a></dt>
<dd><p>Language of the results.</p></dd>


<dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p>Any object that can be parsed by <code><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></code>.
Results must lie within this bbox.</p></dd>


<dt id="arg-osm-tag">osm_tag<a class="anchor" aria-label="anchor" href="#arg-osm-tag"></a></dt>
<dd><p>Character string giving an
<a href="https://wiki.openstreetmap.org/wiki/Tags" class="external-link">OSM tag</a> to filter the
results by. See details.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>Character string giving a layer to filter the results by.
Can be one of <code>"house"</code>, <code>"street"</code>, <code>"locality"</code>,
<code>"district"</code>, <code>"city"</code>, <code>"county"</code>, <code>"state"</code>,
<code>"country"</code>, or <code>"other"</code>.</p></dd>


<dt id="arg-locbias">locbias<a class="anchor" aria-label="anchor" href="#arg-locbias"></a></dt>
<dd><p>Numeric vector of length 2 or an <code>sfg</code> point
geometry that specifies a location bias for geocoding. Geocoding results
are biased towards this point. The radius of the bias is controlled through
<code>zoom</code> and its prominence through <code>location_bias_scale</code>.</p></dd>


<dt id="arg-locbias-scale">locbias_scale<a class="anchor" aria-label="anchor" href="#arg-locbias-scale"></a></dt>
<dd><p>Numeric vector specifying the prominence of
point in <code>location_bias</code>. Defaults to 0.2.</p></dd>


<dt id="arg-zoom">zoom<a class="anchor" aria-label="anchor" href="#arg-zoom"></a></dt>
<dd><p>Numeric vector specifying the radius of the <code>location_bias</code>.
Corresponds to the zoom level in OpenStreetMap. Defaults to 16.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>If <code>TRUE</code>, shows a progress bar for longer queries.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Filtering by OpenStreetMap tags follows a distinct syntax explained on
<a href="https://github.com/komoot/photon" class="external-link">https://github.com/komoot/photon</a>. In particular:</p>
<ul><li><p>Include places with tag: <code>key:value</code></p></li>
<li><p>Exclude places with tag: <code>!key:value</code></p></li>
<li><p>Include places with tag key: <code>key</code></p></li>
<li><p>Include places wih tag value: <code>:value</code></p></li>
<li><p>Exclude places with tag key: <code>!key</code></p></li>
<li><p>Exclude places with tag value: <code>:!value</code></p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonas Lieth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

